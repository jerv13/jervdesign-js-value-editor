<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Example</title>

    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css"
          media="screen"
          rel="stylesheet"
          type="text/css">
    <link href="/bower_components/jervdesign-js-value-editor/dist/styles.css"
          media="screen"
          rel="stylesheet"
          type="text/css">
    <script type="text/javascript"
            src="//code.jquery.com/jquery-3.0.0.min.js"></script>
    <script type="text/javascript"
            src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
    <script type="text/javascript"
            src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript"
            src="/bower_components/jervdesign-js-value-editor/dist/jervdesign-js-value-editor.js"></script>

    <script type="text/javascript">
        angular.module('JervDesignJsValueEditor').controller(
                'JervDesignJsValueEditorExample',
                [
                    'JervDesignJsValueEditorService',
                    function (JervDesignJsValueEditorService) {
                        var self = this;
                        var events = JervDesignJsValueEditorService.getEvents();

                        self.rootNamspace = 'example_root';


                        self.TestSpecial = function () {
                            var self = this;
                            self.specialThing = "test";
                        };
                        var testSpecial = new self.TestSpecial();

                        self.testData = {
                            "rstring": "StringValue",
                            "rnull": null,
                            "rnumber": 123.123,
                            "robject": {
                                "ostring": "oStringValue",
                                "onull": "",
                                "onumber": 123.123,
                                "oobject": {
                                    "objectKey": "ovalue"
                                },
                                "oarray": ['ovalue1', 'ovalue2'],
                                "oboolean": true
                            },
                            "rarray": [
                                "aStringValue",
                                "",
                                123.123,
                                {
                                    "aobjectKey": "value"
                                },
                                ['avalue1', 'avalue2'],
                                true
                            ],
                            "rboolean": true,
                            "testSpecial": testSpecial
                        };

                        ////
                        events.on(
                                'save:' + self.rootNamspace,
                                'JervDesignJsValueEditorExample',
                                function (data) {
                                    alert(
                                            'Data Save:' +
                                            JSON.stringify(data)
                                    );
                                }
                        );
                    }
                ]
        );
    </script>
</head>
<body ng-app="JervDesignJsValueEditor">
<h1>JavaScript Value Editor Example</h1>

<div ng-controller="JervDesignJsValueEditorExample as self">
    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-9">
                <div jerv-design-js-value-editor-standard-display
                     root-namespace="self.rootNamspace"
                     value-data="self.testData">
                </div>
            </div>
            <div class="col-sm-3">
                <pre>{{self.testData | json}}</pre>
            </div>
        </div>
    </div>
</div>
</body>
</html>
