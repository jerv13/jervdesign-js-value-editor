/*! jervdesign-js-value-editor 2016-02-23 */

angular.module("JervDesignJsValueEditor",[]);var JervDesignJsValueEditorConfig={schemaConfig:{"field.name":{type:"literal",title:"Field",required:!0,filterValidate:null}},types:{literal:"JervDesignJsValueEditorDataTypeLiteral",string:"JervDesignJsValueEditorDataTypeString","null":"JervDesignJsValueEditorDataTypeNull",number:"JervDesignJsValueEditorDataTypeNumber",object:"JervDesignJsValueEditorDataTypeObject",array:"JervDesignJsValueEditorDataTypeArray","boolean":"JervDesignJsValueEditorDataTypeBoolean"},"type-changer":{description:"Handles changing types",directive:"jervdesign-js-value-editor-type-changer"},distPath:"/vendor/jervdesign-js-value-editor/dist/"};angular.module("JervDesignJsValueEditor").run(["JervDesignJsValueEditorService","JervDesignJsValueEditorDataTypeLiteral","JervDesignJsValueEditorDataTypeString","JervDesignJsValueEditorDataTypeNull","JervDesignJsValueEditorDataTypeNumber","JervDesignJsValueEditorDataTypeObject","JervDesignJsValueEditorDataTypeArray","JervDesignJsValueEditorDataTypeBoolean",function(JervDesignJsValueEditorService,JervDesignJsValueEditorDataTypeLiteral,JervDesignJsValueEditorDataTypeString,JervDesignJsValueEditorDataTypeNull,JervDesignJsValueEditorDataTypeNumber,JervDesignJsValueEditorDataTypeObject,JervDesignJsValueEditorDataTypeArray,JervDesignJsValueEditorDataTypeBoolean){JervDesignJsValueEditorService.setTypeService(JervDesignJsValueEditorDataTypeLiteral),JervDesignJsValueEditorService.setTypeService(JervDesignJsValueEditorDataTypeString),JervDesignJsValueEditorService.setTypeService(JervDesignJsValueEditorDataTypeNull),JervDesignJsValueEditorService.setTypeService(JervDesignJsValueEditorDataTypeNumber),JervDesignJsValueEditorService.setTypeService(JervDesignJsValueEditorDataTypeObject),JervDesignJsValueEditorService.setTypeService(JervDesignJsValueEditorDataTypeArray),JervDesignJsValueEditorService.setTypeService(JervDesignJsValueEditorDataTypeBoolean)}]);var JervDesignJsValueEditorDataSchema=function(){var self=this;self.type="literal",self.name="TEMP",self.value=null,self.displayValue="",self.title=self.name,self.directive=null,self.filterValidate=function(){return new JervDesignJsValueEditorFilterValidateResult},self.addDisplayValue=null};angular.module("JervDesignJsValueEditor").factory("JervDesignJsValueEditorDataSchema",[function(){return JervDesignJsValueEditorDataSchema}]);var JervDesignJsValueEditorFilterDataType=function(){var dataType=this;dataType.type="DEFAULT",dataType.description="DEFAULT",dataType.directive="",dataType.getDisplayValue=function(name,value){return JSON.stringify(value)},dataType.getDataValue=function(name,value){return JSON.parse(value)},dataType.filterValidate=function(name,value){return new JervDesignJsValueEditorFilterValidateResult}};angular.module("JervDesignJsValueEditor").factory("JervDesignJsValueEditorFilterDataType",[function(){return JervDesignJsValueEditorFilterDataType}]);var JervDesignJsValueEditorFilterValidateResult=function(){var self=this;self.message="OK",self.isValid=!0};angular.module("JervDesignJsValueEditor").factory("JervDesignJsValueEditorFilterValidateResult",function(){return JervDesignJsValueEditorFilterValidateResult}),angular.module("JervDesignJsValueEditor").service("JervDesignJsValueEditorDataTypeArray",["JervDesignJsValueEditorFilterDataType","JervDesignJsValueEditorService",function(JervDesignJsValueEditorFilterDataType,JervDesignJsValueEditorService){var service=new JervDesignJsValueEditorFilterDataType;return service.type="array",service.description="Handles array",service.directive="jervdesign-js-value-editor-array",service.getDisplayValue=function(name,value,schemas){for(var i=0;i<value.length;i++)JervDesignJsValueEditorService.getDataSchema(name+"."+i,value[i],schemas);return null},service.getDataValue=function(name,value){for(var parsed=[],i=0;i<value.length;i++)parsed.push(JervDesignJsValueEditorService.getDataValue(value[i]));return parsed},service}]),angular.module("JervDesignJsValueEditor").service("JervDesignJsValueEditorDataTypeBoolean",["JervDesignJsValueEditorFilterDataType",function(JervDesignJsValueEditorFilterDataType){var service=new JervDesignJsValueEditorFilterDataType;return service.type="boolean",service.description="Handles booleans",service.directive="jervdesign-js-value-editor-boolean",service.getDisplayValue=function(name,value){return value},service.getDataValue=function(name,value){return value},service}]),angular.module("JervDesignJsValueEditor").service("JervDesignJsValueEditorDataTypeLiteral",["JervDesignJsValueEditorFilterDataType",function(JervDesignJsValueEditorFilterDataType){var service=new JervDesignJsValueEditorFilterDataType;return service.type="literal",service.description="Handles literals as strings",service.directive="jervdesign-js-value-editor-literal",service.getDisplayValue=function(name,value){return JSON.stringify(value)},service.getDataValue=function(name,value){return JSON.parse(value)},service}]),angular.module("JervDesignJsValueEditor").service("JervDesignJsValueEditorDataTypeNull",["JervDesignJsValueEditorFilterDataType",function(JervDesignJsValueEditorFilterDataType){var service=new JervDesignJsValueEditorFilterDataType;return service.type="null",service.description="Handles nulls",service.directive="jervdesign-js-value-editor-string",service.getDisplayValue=function(name,value){return null},service.getDataValue=function(name,value){return null},service}]),angular.module("JervDesignJsValueEditor").service("JervDesignJsValueEditorDataTypeNumber",["JervDesignJsValueEditorFilterDataType",function(JervDesignJsValueEditorFilterDataType){var service=new JervDesignJsValueEditorFilterDataType;return service.type="number",service.description="Handles numbers",service.directive="jervdesign-js-value-editor-number",service.getDisplayValue=function(name,value){return Number(value)},service.getDataValue=function(name,value){return""+value},service}]),angular.module("JervDesignJsValueEditor").service("JervDesignJsValueEditorDataTypeObject",["JervDesignJsValueEditorFilterDataType","JervDesignJsValueEditorService",function(JervDesignJsValueEditorFilterDataType,JervDesignJsValueEditorService){var service=new JervDesignJsValueEditorFilterDataType;return service.type="object",service.description="Handles objects",service.directive="jervdesign-js-value-editor-object",service.getDisplayValue=function(name,value,schemas){for(var prop in value)JervDesignJsValueEditorService.getDataSchema(name+"."+prop,value[prop],schemas);return null},service.getDataValue=function(name,value){},service}]),angular.module("JervDesignJsValueEditor").service("JervDesignJsValueEditorDataTypeString",["JervDesignJsValueEditorFilterDataType",function(JervDesignJsValueEditorFilterDataType){var service=new JervDesignJsValueEditorFilterDataType;return service.type="string",service.description="Handles strings and nulls",service.directive="jervdesign-js-value-editor-string",service.getDisplayValue=function(name,value){return""+value},service.getDataValue=function(name,value){return""+value},service}]);var JervDesignJsValueEditorService=function(JervDesignJsValueEditorDataSchema){var self=this,typeServices={};self.libPath="/vendor/jervdesign-js-value-editor/dist/",self.setTypeService=function(dataType){typeServices[dataType.type]&&console.warn("Duplicate type set for "+dataType.type),typeServices[dataType.type]=dataType},self.getType=function(name,value){var type=typeof value;return typeServices[type]||(console.warn("Type "+type+" service not available, using literal"),type="literal"),type},self.getDataSchema=function(name,value,schemas){schemas||(schemas={}),name||(name="");var type=self.getType(name,value);console.log(name+" is type "+type);var schema=new JervDesignJsValueEditorDataSchema;return schema.type=type,schema.name=name,schema.value=value,schema.displayValue=typeServices[type].getDisplayValue(name,value,schemas),schema.directive=typeServices[type].directive,schemas[name]=schema,schemas},self.getDisplayValue=function(name,value){var type=self.getType(name,value);return typeServices[type].getDisplayValue(name,value)},self.getDataValue=function(name,value){var type=self.getType(name,value);return typeServices[type].getDataValue(name,value)},self.filterValidate=function(schema){var type=self.getType(name,value);return typeServices[type].filterValidate(name,value)}};angular.module("JervDesignJsValueEditor").service("JervDesignJsValueEditorService",["JervDesignJsValueEditorDataSchema",function(JervDesignJsValueEditorDataSchema){return new JervDesignJsValueEditorService(JervDesignJsValueEditorDataSchema)}]),angular.module("JervDesignJsValueEditor").directive("jervDesignJsValueEditorStandardDisplay",["JervDesignJsValueEditorService",function(JervDesignJsValueEditorService){function link($scope,element,attrs){var valueData=attrs.valueData;valueData||console.error("value-data attribute missing"),$scope.schemas=[],$scope.$watch("valueData",function(value){value&&($scope.schemas=JervDesignJsValueEditorService.getDataSchema("schemas",value))})}return{link:link,scope:{valueData:"="},templateUrl:JervDesignJsValueEditorService.libPath+"standard-display.html"}}]);
//# sourceMappingURL=jervdesign-js-value-editor.min.js.map